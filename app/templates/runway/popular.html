<style type="text/css">
body{
	background:#ccc;
}
#book{
	width:800px;
	height:500px;
}

#book .turn-page{
	background-color:white;
}

#book .cover{
	background:#333;
}

#book .cover h1{
	color:white;
	text-align:center;
	font-size:50px;
	line-height:500px;
	margin:0px;
}

#book .loader{
	background-image:url(loader.gif);
	width:24px;
	height:24px;
	display:block;
	position:absolute;
	top:238px;
	left:188px;
}

#book .data{
	text-align:center;
	font-size:40px;
	color:#999;
	line-height:500px;
}

#controls{
	width:800px;
	text-align:center;
	margin:20px 0px;
	font:30px arial;
}

#controls input, #controls label{
	font:30px arial;
}

#book .odd{
	background-image:-webkit-linear-gradient(left, #FFF 95%, #ddd 100%);
	background-image:-moz-linear-gradient(left, #FFF 95%, #ddd 100%);
	background-image:-o-linear-gradient(left, #FFF 95%, #ddd 100%);
	background-image:-ms-linear-gradient(left, #FFF 95%, #ddd 100%);
}

#book .even{
	background-image:-webkit-linear-gradient(right, #FFF 95%, #ddd 100%);
	background-image:-moz-linear-gradient(right, #FFF 95%, #ddd 100%);
	background-image:-o-linear-gradient(right, #FFF 95%, #ddd 100%);
	background-image:-ms-linear-gradient(right, #FFF 95%, #ddd 100%);
}
</style>

<div id="popular-view" class="container">

	<!-- Popular Items list -->
	<section id="popular-list" class="global-filter">


<div id="book">
	<div class="cover"><h1>The Bible</h1></div>
</div>

<div id="controls">
	<label for="page-number">Page:</label> <input type="text" size="3" id="page-number"> of <span id="number-pages"></span>
</div>


<!-- 	
		<div id='magazine'>
			<div id="page-1" class="first page">
				<img src="/assets/img/cover.jpg" alt="">
			</div>

			<div id="page-2" class="left page">
				<article class="rw-thumbnail-wrap">
					<figure>
						<a href="#viewing" class="rw-thumbnail">
							<img src="http://placehold.it/333x420" alt="">
						</a>
						<div class="big-like-button-wrapper"><em>H</em><a href="#" class="btn like">Like</a></div>
					</figure>
					<aside class="rw-thumbnail-detail">
						<a href="#profile/item-view" class="rw-item-title">Title for this item 2</a>
						<a href="#profile" class="rw-item-postedby">Mister Fabulous</a>
						<span class="rw-item-liked">liked by 9999+</span>
						<a class="spch-bub-inside" href="#closet/item/comments"><em>23</em></a>
					</aside>
				</article>

				<aside class="rw-followlist-wrap">
					<div class="vcard">
						<a href="#profile" class="url" rel="tip" title="nickname" data-placement="left">
							<img src="//placehold.it/96x96" class="photo">
						</a>
						<a href="#" class="follow-user-link">follow</a>
					</div>

					<div class="vcard">
						<a href="#profile" class="url" rel="tip" title="nickname" data-placement="left">
							<img src="//placehold.it/96x96" class="photo">
						</a>
						<a href="#" class="follow-user-link">follow</a>
					</div>

					<div class="vcard">
						<a href="#profile" class="url" rel="tip" title="nickname" data-placement="left">
							<img src="//placehold.it/96x96" class="photo">
						</a>
						<a href="#" class="follow-user-link">follow</a>
					</div>
				</aside>
			</div>

			<div id="page-3" class="right page">
				<article class="rw-thumbnail-wrap">
					<figure>
						<a href="#viewing" class="rw-thumbnail">
							<img src="http://placehold.it/460x420" alt="">
						</a>
						<div class="big-like-button-wrapper"><em>H</em><a href="#" class="btn like">Like</a></div>
					</figure>
					<aside class="rw-thumbnail-detail">
						<a href="#profile/item-view" class="rw-item-title">Title for this item 3</a>
						<a href="#profile" class="rw-item-postedby">Mister Fabulous</a>
						<span class="rw-item-liked">liked by 9999+</span>
						<a class="spch-bub-inside" href="#closet/item/comments"><em>23</em></a>
					</aside>
				</article>
			</div>

			<div id="page-4" class="left page">
				<article class="rw-thumbnail-wrap">
					<figure>
						<a href="#viewing" class="rw-thumbnail">
							<img src="http://placehold.it/460x420" alt="">
						</a>
						<div class="big-like-button-wrapper"><em>H</em><a href="#" class="btn like">Like</a></div>
					</figure>
					<aside class="rw-thumbnail-detail">
						<a href="#profile/item-view" class="rw-item-title">Title for this item 4</a>
						<a href="#profile" class="rw-item-postedby">Mister Fabulous</a>
						<span class="rw-item-liked">liked by 9999+</span>
						<a class="spch-bub-inside" href="#closet/item/comments"><em>23</em></a>
					</aside>
				</article>
			</div>

			<div id="page-5" class="right page">
				<aside class="rw-followlist-wrap">
					<div class="vcard">
						<a href="#profile" class="url" rel="tip" title="nickname" data-placement="left">
							<img src="//placehold.it/96x96" class="photo">
						</a>
						<a href="#" class="follow-user-link">follow</a>
					</div>

					<div class="vcard">
						<a href="#profile" class="url" rel="tip" title="nickname" data-placement="left">
							<img src="//placehold.it/96x96" class="photo">
						</a>
						<a href="#" class="follow-user-link">follow</a>
					</div>

					<div class="vcard">
						<a href="#profile" class="url" rel="tip" title="nickname" data-placement="left">
							<img src="//placehold.it/96x96" class="photo">
						</a>
						<a href="#" class="follow-user-link">follow</a>
					</div>
				</aside>

				<article class="rw-thumbnail-wrap">
					<figure>
						<a href="#viewing" class="rw-thumbnail">
							<img src="http://placehold.it/333x420" alt="">
						</a>
						<div class="big-like-button-wrapper"><em>H</em><a href="#" class="btn like">Like</a></div>
					</figure>
					<aside class="rw-thumbnail-detail">
						<a href="#profile/item-view" class="rw-item-title">Title for this item 5</a>
						<a href="#profile" class="rw-item-postedby">Mister Fabulous</a>
						<span class="rw-item-liked">liked by 9999+</span>
						<a class="spch-bub-inside" href="#closet/item/comments"><em>23</em></a>
					</aside>
				</article>
			</div>

			<div id="page-6" class="last page">
				<article class="rw-thumbnail-wrap">
					<figure>
						<a href="#viewing" class="rw-thumbnail">
							<img src="http://placehold.it/460x420" alt="">
						</a>
						<div class="big-like-button-wrapper"><em>H</em><a href="#" class="btn like">Like</a></div>
					</figure>
					<aside class="rw-thumbnail-detail">
						<a href="#profile/item-view" class="rw-item-title">Title for this item 6</a>
						<a href="#profile" class="rw-item-postedby">Mister Fabulous</a>
						<span class="rw-item-liked">liked by 9999+</span>
						<a class="spch-bub-inside" href="#closet/item/comments"><em>23</em></a>
					</aside>
				</article>
			</div>
		</div>

		<div id="magazine-pre">
			<h1>Super Popular stuff</h1>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
			tempor incididunt ut labore et dolore magna aliqua.</p>
		</div>

		<div id="magazine-end">
			<h1>That's it for now</h1>
			<p>Check back later since this list is constantly updated based on user activity.</p>
		</div>
	
		<div id="next"> <i></i> </div>
		<div id="previous"> <i></i> </div>
 -->
	</section>

	</div>
</div> <!-- /container -->

<script type="text/javascript">

	// Sample using dynamic pages with turn.js

	var numberOfPages = 1000; 


	// Adds the pages that the book will need
	function addPage(page, book) {
		// 	First check if the page is already in the book
		if (!book.turn('hasPage', page)) {
			// Create an element for this page
			var element = $('<div />', {'class': 'page '+((page%2==0) ? 'odd' : 'even'), 'id': 'page-'+page}).html('<i class="loader"></i>');
			// If not then add the page
			book.turn('addPage', element, page);
			// Let's assum that the data is comming from the server and the request takes 1s.
			setTimeout(function(){
					element.html('<div class="data">Data for page '+page+'</div>');
			}, 1000);
		}
	}

	$(window).ready(function(){
		$('#book').turn({acceleration: true,
							pages: numberOfPages,
							elevation: 50,
							gradients: !$.isTouch,
							when: {
								turning: function(e, page, view) {

									// Gets the range of pages that the book needs right now
									var range = $(this).turn('range', page);

									// Check if each page is within the book
									for (page = range[0]; page<=range[1]; page++) 
										addPage(page, $(this));

								},

								turned: function(e, page) {
									$('#page-number').val(page);
								}
							}
						});

		$('#number-pages').html(numberOfPages);

		$('#page-number').keydown(function(e){

			if (e.keyCode==13)
				$('#book').turn('page', $('#page-number').val());

		});
	});

	$(window).bind('keydown', function(e){

		if (e.target && e.target.tagName.toLowerCase()!='input')
			if (e.keyCode==37)
				$('#book').turn('previous');
			else if (e.keyCode==39)
				$('#book').turn('next');

	});

</script>



<script>
!function ($) {
	$(function(){

		// var popularMag = $('#magazine').turn({
		// 					display: 'double',
		// 					acceleration: true,
		// 					gradients: !$.isTouch,
		// 					elevation:50,
		// 					when: {
		// 						turned: function(e, page) {
		// 							console.log('Current view: ', $(this).turn('view'));
		// 						}
		// 					}
		// 				});

		// $('#magazine').bind('turned', function(e, page) {
		// 	//console.log('Current view: ', $('#magazine').turn('view'));
		// });

		// $('#magazine').bind('turning', function(e, page) {
		// 	$(this).css({'pointer-events': 'none'});
		// });

		// $('#magazine').bind('end', function(e, page) {
		// 	$(this).css({'pointer-events': 'auto'});
		// });

		$(".btn.like").toggle(
			function(){
				$(this).text("Dislike");
				$(this).addClass("active btn-inverse").parent().addClass("active");
				$(this).parent().parent().parent().addClass("liked");
				$('#modal-shelves').modal('show');
				$('<a href="#" class="btn like-edit">S</a>').click(function(e) {
					e.preventDefault();
					$('#modal-shelves').modal('show');
				}).insertAfter( $(this) );
			}, 
			function(){
				$(this).text("Like");
				$(this).removeClass("active btn-inverse").parent().removeClass("active");
				$(this).parent().parent().parent().removeClass("liked");
				$(this).next('.like-edit').remove();
			}
		);

		$('[rel=tip]').tooltip();

		$("#popular-list .follow-user-link").toggle(
			function(){
				$(this).text("following").addClass("following active");
				alert("You are now following Persons Name", "success");
			}, 
			function(){
				$(this).text("follow").removeClass("following active");
				alert("You are no longer following Persons Name", "error");
			}
		);

	})
}(window.jQuery)
</script>